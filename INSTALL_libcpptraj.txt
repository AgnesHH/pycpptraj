How?
    # export AMBERHOME before install anything. 
    # You might need to "make clean" before doing following steps
    cd $AMBERHOME/

    # I just tested with gnu compiler
    ./configure gnu

    # add -fPIC to enable sharing
    make CUSTOMBUILDFLAGS='-fPIC' install

    # change dir to cpptraj/src and update `Makefile` file
    cd $AMBERHOME/AmberTools/src/cpptraj/src
         + open Makefile and add these lines:
     
         libcpptraj.so: $(OBJECTS) pub_fft.o $(READLINE)
         $(CXX)  -shared -o libcpptraj.so $(OBJECTS) pub_fft.o $(READLINE) $(LDFLAGS)
    
    # make *.so lib
    make CUSTOMBUILDFLAGS='-fPIC' libcpptraj.so

    # move to $AMBERHOME/lib
    mv libcpptraj.so $AMBERHOME/lib/

